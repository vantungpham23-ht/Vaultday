import{a as P,b as m,c as y,d as L,e as O,f as I,g as E,h as k,i as F,k as T}from"./chunk-OGTIXNAF.js";import{c as w,d as M,f as S}from"./chunk-PCKYNI25.js";import{$a as g,Bb as h,Ca as d,Ha as v,La as p,Sa as s,Ta as o,Ua as t,Va as f,Za as b,_a as u,ab as l,cb as x,sa as r,zb as C}from"./chunk-5YBEVAAG.js";import"./chunk-LJ5XHLMQ.js";import{h as _}from"./chunk-FK42CRUA.js";function q(n,a){n&1&&(o(0,"span"),l(1,"Email is required"),t())}function z(n,a){n&1&&(o(0,"span"),l(1,"Please enter a valid email"),t())}function D(n,a){if(n&1&&(o(0,"div",15),p(1,q,2,0,"span",12)(2,z,2,0,"span",12),t()),n&2){let i=u();r(),s("ngIf",i.email==null||i.email.errors==null?null:i.email.errors.required),r(),s("ngIf",i.email==null||i.email.errors==null?null:i.email.errors.email)}}function G(n,a){n&1&&(o(0,"span"),l(1,"Password is required"),t())}function R(n,a){n&1&&(o(0,"span"),l(1,"Password must be at least 6 characters"),t())}function j(n,a){if(n&1&&(o(0,"div",15),p(1,G,2,0,"span",12)(2,R,2,0,"span",12),t()),n&2){let i=u();r(),s("ngIf",i.password==null||i.password.errors==null?null:i.password.errors.required),r(),s("ngIf",i.password==null||i.password.errors==null?null:i.password.errors.minlength)}}function A(n,a){if(n&1&&(o(0,"div",16),l(1),t()),n&2){let i=u();r(),x(" ",i.errorMessage," ")}}function B(n,a){n&1&&(o(0,"span"),l(1,"Sign In"),t())}function V(n,a){n&1&&(o(0,"span"),l(1,"Signing In..."),t())}var N=class n{constructor(a,i,e){this.fb=a;this.authService=i;this.router=e;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]})}loginForm;isLoading=!1;errorMessage="";onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let{email:a,password:i}=this.loginForm.value,{user:e,error:c}=yield this.authService.signInWithEmail(a,i);c?(this.errorMessage=c.message,this.isLoading=!1):e&&this.router.navigate(["/home"])}})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static \u0275fac=function(i){return new(i||n)(d(k),d(T),d(w))};static \u0275cmp=v({type:n,selectors:[["app-login"]],decls:24,vars:13,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-input"],["class","error-message",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-input"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[4,"ngIf"],[1,"signup-link"],["routerLink","/signup",1,"link"],[1,"error-message"],[1,"error-message","global-error"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Sign In"),t(),o(4,"form",3),b("ngSubmit",function(){return e.onSubmit()}),o(5,"div",4)(6,"label",5),l(7,"Email"),t(),f(8,"input",6),p(9,D,3,2,"div",7),t(),o(10,"div",4)(11,"label",8),l(12,"Password"),t(),f(13,"input",9),p(14,j,3,2,"div",7),t(),p(15,A,2,1,"div",10),o(16,"button",11),p(17,B,2,0,"span",12)(18,V,2,0,"span",12),t()(),o(19,"div",13)(20,"p"),l(21,"Don't have an account? "),o(22,"a",14),l(23,"Sign up"),t()()()()()),i&2&&(r(4),s("formGroup",e.loginForm),r(4),g("error",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),r(),s("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),r(4),g("error",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),r(),s("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),r(),s("ngIf",e.errorMessage),r(),g("loading",e.isLoading),s("disabled",e.loginForm.invalid||e.isLoading),r(),s("ngIf",!e.isLoading),r(),s("ngIf",e.isLoading))},dependencies:[F,O,P,y,L,I,E,S,M,h,C],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#000;padding:20px}.login-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:40px;width:100%;max-width:400px;box-shadow:0 4px 6px #0000001a}.login-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#000;text-align:center;margin-bottom:30px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000}.form-input[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e5e5e5;border-radius:6px;font-size:16px;background-color:#fff;color:#000;transition:border-color .2s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000}.form-input.error[_ngcontent-%COMP%]{border-color:#dc2626}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#dc2626;margin-top:4px}.error-message.global-error[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;padding:12px;border-radius:6px;margin-top:10px}.submit-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:14px 20px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s ease;margin-top:10px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#333}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;cursor:not-allowed}.submit-button.loading[_ngcontent-%COMP%]{background-color:#6b7280}.signup-link[_ngcontent-%COMP%]{text-align:center;margin-top:24px}.signup-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;margin:0}.signup-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:500}.signup-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{N as LoginComponent};
