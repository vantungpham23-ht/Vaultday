import{$,A as le,B as a,C as Se,D as ue,E as h,F as v,H as Te,M as C,N as b,P as T,U as ce,V,W as U,Z as H,_ as L,a as c,b as d,ba as f,c as l,ca as F,d as Ve,da as de,e as De,f as we,g as Me,h as Ae,ha as Fe,i as Ee,ia as Ie,j,k as G,ka as Oe,l as u,la as Re,m as se,n as g,o as _,u as E,v as ae,w as xe,x,y as B,z as S}from"./chunk-4GERC5WN.js";var $e=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(a(le),a(x))};static \u0275dir=h({type:n})}return n})(),yt=(()=>{class n extends $e{static \u0275fac=(()=>{let t;return function(r){return(t||(t=xe(n)))(r||n)}})();static \u0275dir=h({type:n,features:[v]})}return n})(),qe=new g("");var _t={provide:qe,useExisting:G(()=>ze),multi:!0};function Ct(){let n=de()?de().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var bt=new g(""),ze=(()=>{class n extends $e{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Ct())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(a(le),a(x),a(bt,8))};static \u0275dir=h({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[H([_t]),v]})}return n})();function ge(n){return n==null||ve(n)===0}function ve(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var We=new g(""),Ze=new g(""),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pe=class{static min(e){return Dt(e)}static max(e){return wt(e)}static required(e){return Mt(e)}static requiredTrue(e){return At(e)}static email(e){return Et(e)}static minLength(e){return xt(e)}static maxLength(e){return St(e)}static pattern(e){return Tt(e)}static nullValidator(e){return Ke()}static compose(e){return tt(e)}static composeAsync(e){return it(e)}};function Dt(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function wt(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Mt(n){return ge(n.value)?{required:!0}:null}function At(n){return n.value===!0?null:{required:!0}}function Et(n){return ge(n.value)||Vt.test(n.value)?null:{email:!0}}function xt(n){return e=>{let t=e.value?.length??ve(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function St(n){return e=>{let t=e.value?.length??ve(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Tt(n){if(!n)return Ke;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ge(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Ke(n){return null}function Ye(n){return n!=null}function Je(n){return Te(n)?Me(n):n}function Xe(n){let e={};return n.forEach(t=>{e=t!=null?c(c({},e),t):e}),Object.keys(e).length===0?null:e}function Qe(n,e){return e.map(t=>t(n))}function Ft(n){return!n.validate}function et(n){return n.map(e=>Ft(e)?e:t=>e.validate(t))}function tt(n){if(!n)return null;let e=n.filter(Ye);return e.length==0?null:function(t){return Xe(Qe(t,e))}}function nt(n){return n!=null?tt(et(n)):null}function it(n){if(!n)return null;let e=n.filter(Ye);return e.length==0?null:function(t){let i=Qe(t,e).map(Je);return Ee(i).pipe(Ae(Xe))}}function rt(n){return n!=null?it(et(n)):null}function Ne(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ot(n){return n._rawValidators}function st(n){return n._rawAsyncValidators}function he(n){return n?Array.isArray(n)?n:[n]:[]}function W(n,e){return Array.isArray(n)?n.includes(e):n===e}function ke(n,e){let t=he(e);return he(n).forEach(r=>{W(t,r)||t.push(r)}),t}function je(n,e){return he(e).filter(t=>!W(n,t))}var Z=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},M=class extends Z{name;get formDirective(){return null}get path(){return null}},N=class extends Z{_parent=null;name=null;valueAccessor=null},K=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},It={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xn=d(c({},It),{"[class.ng-submitted]":"isSubmitted"}),Sn=(()=>{class n extends K{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(a(N,2))};static \u0275dir=h({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[v]})}return n})(),Tn=(()=>{class n extends K{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(a(M,10))};static \u0275dir=h({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[v]})}return n})();var I="VALID",q="INVALID",D="PENDING",O="DISABLED",m=class{},Y=class extends m{value;source;constructor(e,t){super(),this.value=e,this.source=t}},R=class extends m{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},P=class extends m{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},w=class extends m{status;source;constructor(e,t){super(),this.status=e,this.source=t}},fe=class extends m{source;constructor(e){super(),this.source=e}},k=class extends m{source;constructor(e){super(),this.source=e}};function ye(n){return(ee(n)?n.validators:n)||null}function Ot(n){return Array.isArray(n)?nt(n):n||null}function _e(n,e){return(ee(e)?e.asyncValidators:n)||null}function Rt(n){return Array.isArray(n)?rt(n):n||null}function ee(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function at(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[t])throw new j(1001,"")}function lt(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new j(1002,"")})}var A=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return f(this.statusReactive)}set status(e){f(()=>this.statusReactive.set(e))}_status=F(()=>this.statusReactive());statusReactive=E(void 0);get valid(){return this.status===I}get invalid(){return this.status===q}get pending(){return this.status==D}get disabled(){return this.status===O}get enabled(){return this.status!==O}errors;get pristine(){return f(this.pristineReactive)}set pristine(e){f(()=>this.pristineReactive.set(e))}_pristine=F(()=>this.pristineReactive());pristineReactive=E(!0);get dirty(){return!this.pristine}get touched(){return f(this.touchedReactive)}set touched(e){f(()=>this.touchedReactive.set(e))}_touched=F(()=>this.touchedReactive());touchedReactive=E(!1);get untouched(){return!this.touched}_events=new De;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ke(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ke(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(je(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(je(e,this._rawAsyncValidators))}hasValidator(e){return W(this._rawValidators,e)}hasAsyncValidator(e){return W(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(d(c({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new P(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new P(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(d(c({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new R(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new R(!0,i))}markAsPending(e={}){this.status=D;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new w(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(d(c({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=O,this.errors=null,this._forEachChild(r=>{r.disable(d(c({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Y(this.value,i)),this._events.next(new w(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(d(c({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=I,this._forEachChild(i=>{i.enable(d(c({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(d(c({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I||this.status===D)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Y(this.value,t)),this._events.next(new w(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(d(c({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O:I}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=D,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=Je(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new w(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new S,this.statusChanges=new S}_calculateStatus(){return this._allControlsDisabled()?O:this.errors?q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D)?D:this._anyControlsHaveStatus(q)?q:I}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new R(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new P(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ee(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ot(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rt(this._rawAsyncValidators)}},J=class extends A{constructor(e,t,i){super(ye(t),_e(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lt(this,!0,e),Object.keys(e).forEach(i=>{at(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new k(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var me=class extends J{};var ut=new g("",{providedIn:"root",factory:()=>Ce}),Ce="always";function Pt(n,e){return[...e.path,n]}function Ge(n,e,t=Ce){be(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),kt(n,e),Gt(n,e),jt(n,e),Nt(n,e)}function Be(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Q(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function X(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nt(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function be(n,e){let t=ot(n);e.validator!==null?n.setValidators(Ne(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=st(n);e.asyncValidator!==null?n.setAsyncValidators(Ne(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();X(e._rawValidators,r),X(e._rawAsyncValidators,r)}function Q(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=ot(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=st(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return X(e._rawValidators,i),X(e._rawAsyncValidators,i),t}function kt(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ct(n,e)})}function jt(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ct(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ct(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gt(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Bt(n,e){n==null,be(n,e)}function Ut(n,e){return Q(n,e)}function Ht(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Lt(n){return Object.getPrototypeOf(n.constructor)===yt}function $t(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function qt(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===ze?t=o:Lt(o)?i=o:r=o}),r||i||t||null}function zt(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ue(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function He(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var z=class extends A{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(ye(t),_e(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(t)&&(t.nonNullable||t.initialValueIsDefault)&&(He(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new k(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ue(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ue(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){He(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Wt=n=>n instanceof z;var In=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=h({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var dt=new g("");var Zt={provide:M,useExisting:G(()=>Kt)},Kt=(()=>{class n extends M{callSetDisabledState;get submitted(){return f(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=F(()=>this._submittedReactive());_submittedReactive=E(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new S;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Q(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Ge(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Be(t.control||null,t,!1),zt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),$t(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new fe(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Be(i||null,t),Wt(r)&&(Ge(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Bt(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Ut(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){be(this.form,this),this._oldForm&&Q(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(a(We,10),a(Ze,10),a(ut,8))};static \u0275dir=h({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[H([Zt]),v,ae]})}return n})();var Yt={provide:N,useExisting:G(()=>Jt)},Jt=(()=>{class n extends N{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new S;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=qt(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Ht(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Pt(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(a(M,13),a(We,10),a(Ze,10),a(qe,10),a(dt,8))};static \u0275dir=h({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[H([Yt]),v,ae]})}return n})();var Xt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ue({type:n});static \u0275inj=se({})}return n})(),pe=class extends A{constructor(e,t,i){super(ye(t),_e(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){lt(this,!1,e),e.forEach((i,r)=>{at(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new k(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Le(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var On=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return Le(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new J(r,o)}record(t,i=null){let r=this._reduceControls(t);return new me(r,i)}control(t,i,r){let o={};return this.useNonNullable?(Le(i)?o=i:(o.validators=i,o.asyncValidators=r),new z(t,d(c({},o),{nonNullable:!0}))):new z(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new pe(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof z)return t;if(t instanceof A)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dt,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ut,useValue:t.callSetDisabledState??Ce}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ue({type:n});static \u0275inj=se({imports:[Xt]})}return n})();var te=class n{countdownSubject=new we({hours:0,minutes:0,seconds:0,totalSeconds:0});timezoneOffset=0;timerInterval;constructor(){this.initializeTimezone(),this.startCountdown()}getCountdown(){return this.countdownSubject.asObservable()}initializeTimezone(){return l(this,null,function*(){try{let e=localStorage.getItem("timezone_data"),t=localStorage.getItem("timezone_cache_time");if(e&&t&&Date.now()-parseInt(t)<3600*1e3){let o=JSON.parse(e);this.setTimezoneFromData(o),console.log("Using cached timezone:",o.timezone);return}let i=null;try{let r=yield fetch("https://ipapi.co/json/",{headers:{"User-Agent":"VaultDay/1.0"}});r.ok&&(i=yield r.json())}catch(r){console.warn("ipapi.co failed, trying fallback:",r)}(!i||!i.timezone)&&(i={timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,utc_offset:new Date().getTimezoneOffset()*-1},console.log("Using browser timezone as fallback:",i.timezone)),localStorage.setItem("timezone_data",JSON.stringify(i)),localStorage.setItem("timezone_cache_time",Date.now().toString()),this.setTimezoneFromData(i)}catch(e){console.warn("Could not detect timezone, using local time:",e),this.timezoneOffset=0}})}setTimezoneFromData(e){if(e.timezone){let t=new Date,i=new Date(t.getTime()+t.getTimezoneOffset()*6e4),r=new Date(i.toLocaleString("en-US",{timeZone:e.timezone}));this.timezoneOffset=(r.getTime()-i.getTime())/6e4,console.log("Timezone detected:",e.timezone,"Offset:",this.timezoneOffset)}}startCountdown(){this.timerInterval=setInterval(()=>{this.updateCountdown()},1e3),this.updateCountdown()}updateCountdown(){let e=new Date,t=new Date(e.getTime()+this.timezoneOffset*6e4),i=new Date(t);i.setHours(24,0,0,0);let r=i.getTime()-t.getTime(),o=Math.floor(r/1e3);if(o<=0){i.setDate(i.getDate()+1);let s=i.getTime()-t.getTime(),y=Math.floor(s/1e3),oe=Math.floor(y/3600),gt=Math.floor(y%3600/60),vt=y%60;this.countdownSubject.next({hours:oe,minutes:gt,seconds:vt,totalSeconds:y})}else{let s=Math.floor(o/3600),y=Math.floor(o%3600/60),oe=o%60;this.countdownSubject.next({hours:s,minutes:y,seconds:oe,totalSeconds:o})}}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var ht=class n{constructor(e){this.countdownService=e}countdownTime={hours:0,minutes:0,seconds:0,totalSeconds:0};subscription=new Ve;ngOnInit(){this.subscription=this.countdownService.getCountdown().subscribe(e=>{this.countdownTime=e})}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(a(te))};static \u0275cmp=Se({type:n,selectors:[["app-countdown-timer"]],decls:18,vars:12,consts:[[1,"countdown-container"],[1,"countdown-display"],[1,"time-unit"],[1,"time-value"],[1,"time-separator"]],template:function(t,i){t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),V(4),L(5,"number"),b()(),C(6,"div",4),V(7,":"),b(),C(8,"div",2)(9,"span",3),V(10),L(11,"number"),b()(),C(12,"div",4),V(13,":"),b(),C(14,"div",2)(15,"span",3),V(16),L(17,"number"),b()()()()),t&2&&(B(4),U($(5,3,i.countdownTime.hours,"2.0-0")),B(6),U($(11,6,i.countdownTime.minutes,"2.0-0")),B(6),U($(17,9,i.countdownTime.seconds,"2.0-0")))},dependencies:[Ie,Fe],styles:['.countdown-container[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#0a0a0a,#1a1a2e,#16213e);border-radius:20px;padding:40px 60px;text-align:center;overflow:hidden;box-shadow:0 0 30px #00ffff4d,0 0 60px #f0f3,0 0 90px #ff64001a;animation:_ngcontent-%COMP%_cosmicGlow 4s ease-in-out infinite}.countdown-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#0ff,#0080ff,#ff0080,#ff4000,#8000ff);border-radius:22px;z-index:-1;animation:_ngcontent-%COMP%_neonRotate 3s linear infinite}.countdown-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 20%,rgba(0,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,0,128,.1) 0%,transparent 50%),radial-gradient(circle at 40% 60%,rgba(255,100,0,.05) 0%,transparent 50%);border-radius:20px;pointer-events:none}.countdown-display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;position:relative;z-index:1}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#0000004d;border-radius:12px;padding:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);width:80px;height:80px;min-width:80px;min-height:80px;position:relative;overflow:hidden}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#e0e0e0;text-shadow:0 0 10px rgba(255,255,255,.5),0 0 20px rgba(255,255,255,.3),0 0 30px rgba(255,255,255,.1);font-family:Poppins,monospace;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1;white-space:nowrap;letter-spacing:2px}.countdown-display[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#e0e0e0;text-shadow:0 0 10px rgba(255,255,255,.5),0 0 20px rgba(255,255,255,.3);margin:0 5px;animation:_ngcontent-%COMP%_separatorPulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_cosmicGlow{0%,to{box-shadow:0 0 30px #00ffff4d,0 0 60px #f0f3,0 0 90px #ff64001a}50%{box-shadow:0 0 40px #f0f6,0 0 80px #ff64004d,0 0 120px #0ff3}}@keyframes _ngcontent-%COMP%_neonRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_separatorPulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@media (max-width: 768px){.countdown-container[_ngcontent-%COMP%]{padding:30px 40px}.countdown-display[_ngcontent-%COMP%]{gap:15px}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]{width:70px;height:70px;min-width:70px;min-height:70px}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%], .countdown-display[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 480px){.countdown-container[_ngcontent-%COMP%]{padding:20px 30px}.countdown-display[_ngcontent-%COMP%]{gap:10px}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]{width:60px;height:60px;min-width:60px;min-height:60px}.countdown-display[_ngcontent-%COMP%]   .time-unit[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%], .countdown-display[_ngcontent-%COMP%]   .time-separator[_ngcontent-%COMP%]{font-size:28px}}']})};var ne=class n{audioContext=null;isEnabled=!0;volume=.3;constructor(){this.initializeAudioContext()}initializeAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.warn("AudioContext not supported:",e)}}setEnabled(e){this.isEnabled=e}setVolume(e){this.volume=Math.max(0,Math.min(1,e))}playButtonClick(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(800,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(600,this.audioContext.currentTime+.1),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.3,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.1),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.1)}catch(e){console.warn("Error playing button sound:",e)}}playSuccess(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(523.25,this.audioContext.currentTime),e.frequency.linearRampToValueAtTime(659.25,this.audioContext.currentTime+.1),e.frequency.linearRampToValueAtTime(783.99,this.audioContext.currentTime+.2),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.4,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.3),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.3)}catch(e){console.warn("Error playing success sound:",e)}}playError(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(400,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(200,this.audioContext.currentTime+.2),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.2,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.2),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.2)}catch(e){console.warn("Error playing error sound:",e)}}playNotification(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(1e3,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(800,this.audioContext.currentTime+.15),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.25,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.15),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.15)}catch(e){console.warn("Error playing notification sound:",e)}}playMessageSend(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(1200,this.audioContext.currentTime),e.frequency.exponentialRampToValueAtTime(1e3,this.audioContext.currentTime+.08),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.2,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.08),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.08)}catch(e){console.warn("Error playing message send sound:",e)}}playToggle(){if(!(!this.isEnabled||!this.audioContext))try{let e=this.audioContext.createOscillator(),t=this.audioContext.createGain();e.connect(t),t.connect(this.audioContext.destination),e.frequency.setValueAtTime(600,this.audioContext.currentTime),e.frequency.linearRampToValueAtTime(800,this.audioContext.currentTime+.05),t.gain.setValueAtTime(0,this.audioContext.currentTime),t.gain.linearRampToValueAtTime(this.volume*.15,this.audioContext.currentTime+.01),t.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+.05),e.start(this.audioContext.currentTime),e.stop(this.audioContext.currentTime+.05)}catch(e){console.warn("Error playing toggle sound:",e)}}resumeAudioContext(){this.audioContext&&this.audioContext.state==="suspended"&&this.audioContext.resume()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var ft=class n{constructor(e,t){this.el=e;this.soundService=t}soundType="button";ngOnInit(){this.soundService.resumeAudioContext()}onClick(e){switch(this.soundType){case"button":this.soundService.playButtonClick();break;case"success":this.soundService.playSuccess();break;case"error":this.soundService.playError();break;case"notification":this.soundService.playNotification();break;case"message":this.soundService.playMessageSend();break;case"toggle":this.soundService.playToggle();break}}static \u0275fac=function(t){return new(t||n)(a(x),a(ne))};static \u0275dir=h({type:n,selectors:[["","appSoundClick",""]],hostBindings:function(t,i){t&1&&T("click",function(o){return i.onClick(o)})},inputs:{soundType:"soundType"}})};var ie=class n{isLocal=!1;constructor(){this.isLocal=this.detectLocalEnvironment()}detectLocalEnvironment(){if(typeof window<"u"){let e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e.includes("ngrok")}return!1}isLocalEnvironment(){return this.isLocal}isProductionEnvironment(){return!this.isLocal}getApiBaseUrl(){return this.isLocal?"http://localhost:8888":""}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var re=class n{mockRooms=[{id:"mock-room-1",name:"Room-ABC123",created_at:new Date().toISOString(),password:null,created_by:null,is_public:!0},{id:"mock-room-2",name:"Room-DEF456",created_at:new Date().toISOString(),password:null,created_by:null,is_public:!0}];mockMessages=[];testConnection(){return l(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e({ok:!0})},500)})})}createRoom(e,t,i=!0){return l(this,null,function*(){return new Promise(r=>{setTimeout(()=>{let o={id:`mock-room-${Date.now()}`,name:e,created_at:new Date().toISOString(),password:t||null,created_by:null,is_public:i};this.mockRooms.push(o),r({data:o,error:null})},300)})})}getRoomById(e){return l(this,null,function*(){return new Promise(t=>{setTimeout(()=>{let i=this.mockRooms.find(r=>r.id===e);t({data:i||null,error:null})},200)})})}getRoomByName(e){return l(this,null,function*(){return new Promise(t=>{setTimeout(()=>{let i=this.mockRooms.find(r=>r.name===e);t({data:i||null,error:null})},200)})})}getPublicRooms(){return l(this,null,function*(){return new Promise(e=>{setTimeout(()=>{let t=this.mockRooms.filter(i=>i.is_public);e({data:t,error:null})},200)})})}updateRoomVisibility(e,t){return l(this,null,function*(){return new Promise(i=>{setTimeout(()=>{let r=this.mockRooms.find(o=>o.id===e);r?(r.is_public=t,i({data:r,error:null})):i({data:null,error:"Room not found"})},200)})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var mt=class n{constructor(e,t){this.environmentService=e;this.mockDatabaseService=t}testConnection(){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return console.log("\u{1F527} Using mock database service for local development"),this.mockDatabaseService.testConnection();try{return yield(yield fetch("/.netlify/functions/db-pg",{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){return console.error("Connection test error:",e),{ok:!1,error:e}}})}runDailyCleanup(){return l(this,null,function*(){try{return yield(yield fetch("/.netlify/functions/daily-cleanup",{method:"POST",headers:{"Content-Type":"application/json"}})).json()}catch(e){return console.error("Daily cleanup error:",e),{ok:!1,error:e}}})}queryDatabase(i){return l(this,arguments,function*(e,t=[]){if(this.environmentService.isLocalEnvironment())return console.log("\u{1F527} Local development: Skipping database query"),[];try{console.log("Making database query:",{query:e,params:t});let r=yield fetch("/.netlify/functions/db-pg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,params:t})});if(console.log("Response status:",r.status),console.log("Response headers:",r.headers),!r.ok){let s=yield r.text();throw console.error("Response error:",s),new Error(`HTTP ${r.status}: ${s}`)}let o=yield r.json();if(console.log("Query result:",o),!o.ok)throw new Error(o.error||"Database query failed");return o.data}catch(r){throw console.error("Database query error:",r),r}})}createRoom(e,t,i=!0){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return this.mockDatabaseService.createRoom(e,t,i);try{let r=`
        INSERT INTO rooms (name, password, is_public, created_at)
        VALUES ($1, $2, $3, NOW())
        RETURNING *
      `,o=[e,t||null,i];return{data:(yield this.queryDatabase(r,o))[0]||null,error:null}}catch(r){return{data:null,error:r}}})}getRoomByName(e){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return this.mockDatabaseService.getRoomByName(e);try{let t=`
        SELECT * FROM rooms 
        WHERE name = $1
        ORDER BY created_at DESC
        LIMIT 1
      `,i=[e];return{data:(yield this.queryDatabase(t,i))[0]||null,error:null}}catch(t){return{data:null,error:t}}})}getRoomById(e){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return this.mockDatabaseService.getRoomById(e);try{let t=`
        SELECT * FROM rooms 
        WHERE id = $1
      `,i=[e];return{data:(yield this.queryDatabase(t,i))[0]||null,error:null}}catch(t){return{data:null,error:t}}})}getPublicRooms(){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return this.mockDatabaseService.getPublicRooms();try{return{data:(yield this.queryDatabase(`
        SELECT * FROM rooms 
        WHERE is_public = true 
        ORDER BY created_at DESC
      `))||[],error:null}}catch(e){return{data:null,error:e}}})}updateRoomVisibility(e,t){return l(this,null,function*(){if(this.environmentService.isLocalEnvironment())return this.mockDatabaseService.updateRoomVisibility(e,t);try{let i=`
        UPDATE rooms 
        SET is_public = $1 
        WHERE id = $2 
        RETURNING *
      `,r=[t,e];return{data:(yield this.queryDatabase(i,r))[0]||null,error:null}}catch(i){return{data:null,error:i}}})}static \u0275fac=function(t){return new(t||n)(_(ie),_(re))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var pt=class n{constructor(e,t){this.meta=e;this.title=t}updateTitle(e){this.title.setTitle(`${e} | VaultDay`)}updateDescription(e){this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"twitter:description",content:e})}updateKeywords(e){this.meta.updateTag({name:"keywords",content:e})}updateOpenGraph(e,t,i){this.meta.updateTag({property:"og:title",content:e}),this.meta.updateTag({property:"og:description",content:t}),i&&this.meta.updateTag({property:"og:image",content:i})}updateTwitterCard(e,t,i){this.meta.updateTag({property:"twitter:title",content:e}),this.meta.updateTag({property:"twitter:description",content:t}),i&&this.meta.updateTag({property:"twitter:image",content:i})}setHomePageSEO(){this.updateTitle("VaultDay - Vault it today. Gone tomorrow"),this.updateDescription("\u1EE8ng d\u1EE5ng chat \u0111\u01A1n gi\u1EA3n v\xE0 hi\u1EC7n \u0111\u1EA1i. Tin nh\u1EAFn t\u1EF1 \u0111\u1ED9ng x\xF3a khi \u0111\u1ED3ng h\u1ED3 \u0111i\u1EC3m 0h. Tham gia ph\xF2ng chat ngay!"),this.updateKeywords("chat app, nh\u1EAFn tin, chat room, vaultday, chat online, tin nh\u1EAFn t\u1EF1 \u0111\u1ED9ng x\xF3a"),this.updateOpenGraph("VaultDay - Vault it today. Gone tomorrow","\u1EE8ng d\u1EE5ng chat \u0111\u01A1n gi\u1EA3n v\xE0 hi\u1EC7n \u0111\u1EA1i. Tin nh\u1EAFn t\u1EF1 \u0111\u1ED9ng x\xF3a khi \u0111\u1ED3ng h\u1ED3 \u0111i\u1EC3m 0h."),this.updateTwitterCard("VaultDay - Vault it today. Gone tomorrow","\u1EE8ng d\u1EE5ng chat \u0111\u01A1n gi\u1EA3n v\xE0 hi\u1EC7n \u0111\u1EA1i. Tin nh\u1EAFn t\u1EF1 \u0111\u1ED9ng x\xF3a khi \u0111\u1ED3ng h\u1ED3 \u0111i\u1EC3m 0h.")}setChatRoomSEO(e){this.updateTitle(`Chat Room: ${e}`),this.updateDescription(`Tham gia ph\xF2ng chat ${e} tr\xEAn VaultDay. Tin nh\u1EAFn t\u1EF1 \u0111\u1ED9ng x\xF3a khi \u0111\u1ED3ng h\u1ED3 \u0111i\u1EC3m 0h.`),this.updateKeywords(`chat room ${e}, nh\u1EAFn tin ${e}, vaultday chat`),this.updateOpenGraph(`Chat Room: ${e}`,`Tham gia ph\xF2ng chat ${e} tr\xEAn VaultDay.`),this.updateTwitterCard(`Chat Room: ${e}`,`Tham gia ph\xF2ng chat ${e} tr\xEAn VaultDay.`)}static \u0275fac=function(t){return new(t||n)(_(Oe),_(Re))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{ze as a,Pe as b,Sn as c,Tn as d,In as e,Kt as f,Jt as g,On as h,Rn as i,ht as j,ne as k,ft as l,ie as m,mt as n,pt as o};
