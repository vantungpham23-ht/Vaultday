import{a as N,b as _,c as q,d as G,e as L,f as U,g as $,h as H,i as Y,j as K,k as W,l as J}from"./chunk-QULQ6PI6.js";import{B as h,C as I,G as m,I as c,J as o,K as r,L as u,O as M,P as v,Q as d,R as x,S as i,T as P,U as O,X as F,Y as R,ba as D,c as g,ca as z,da as T,fa as A,ja as V,l as E,la as B,na as j,p as f,q as C,r as S,s as k,y as a}from"./chunk-W5RAZVLZ.js";var y=class n{messageCallbacks=new Map;pollingIntervals=new Map;constructor(){}queryDatabase(s){return g(this,arguments,function*(t,e=[]){try{let p=yield(yield fetch("/.netlify/functions/db-query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,params:e})})).json();if(!p.ok)throw new Error(p.error||"Database query failed");return p.data}catch(l){throw console.error("Database query error:",l),l}})}fetchMessages(t){return g(this,null,function*(){try{let e=new Date(Date.now()-864e5).toISOString(),s=`
        SELECT * FROM messages 
        WHERE room_id = $1 AND created_at > $2
        ORDER BY created_at ASC
      `,l=[t,e];return{data:(yield this.queryDatabase(s,l))||[],error:null}}catch(e){return{data:null,error:e}}})}sendMessage(t,e,s){return g(this,null,function*(){try{let l=`
        INSERT INTO messages (room_id, content, user_id, created_at)
        VALUES ($1, $2, $3, NOW())
        RETURNING *
      `,p=[t,e,s];return{data:(yield this.queryDatabase(l,p))[0]||null,error:null}}catch(l){return{data:null,error:l}}})}listenToRoom(t,e){this.messageCallbacks.has(t)||this.messageCallbacks.set(t,[]),this.messageCallbacks.get(t).push(e),this.pollingIntervals.has(t)||this.startPolling(t)}startPolling(t){return g(this,null,function*(){let e=new Date().toISOString(),s=()=>g(this,null,function*(){try{let p=`
          SELECT * FROM messages 
          WHERE room_id = $1 AND created_at > $2
          ORDER BY created_at ASC
        `,w=[t,e],b=yield this.queryDatabase(p,w);if(b&&b.length>0){e=b[b.length-1].created_at;let X=this.messageCallbacks.get(t)||[];b.forEach(Z=>{X.forEach(ee=>ee(Z))})}}catch(p){console.error("Polling error:",p)}}),l=window.setInterval(s,2e3);this.pollingIntervals.set(t,l)})}unsubscribeFromRoom(t){this.messageCallbacks.delete(t);let e=this.pollingIntervals.get(t);e&&(clearInterval(e),this.pollingIntervals.delete(t))}unsubscribeFromAllRooms(){this.messageCallbacks.clear(),this.pollingIntervals.forEach(t=>{clearInterval(t)}),this.pollingIntervals.clear()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function oe(n,t){n&1&&(o(0,"span"),i(1,"M\u1EADt kh\u1EA9u l\xE0 b\u1EAFt bu\u1ED9c"),r())}function re(n,t){if(n&1&&(o(0,"div",57),m(1,oe,2,0,"span",58),r()),n&2){let e=d(2);a(),c("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.required)}}function ie(n,t){if(n&1){let e=M();o(0,"div",45)(1,"div",46)(2,"div",47)(3,"h2",48)(4,"span",49),i(5,"\u{1F512}"),r(),i(6," Ph\xF2ng \u0111\u01B0\u1EE3c b\u1EA3o v\u1EC7 "),r(),o(7,"p",50),i(8,"Nh\u1EADp m\u1EADt kh\u1EA9u \u0111\u1EC3 v\xE0o ph\xF2ng"),r()(),o(9,"div",51)(10,"form",52),v("ngSubmit",function(){f(e);let l=d();return C(l.verifyPassword())}),o(11,"div",53),u(12,"input",54),m(13,re,2,1,"div",55),r(),o(14,"button",56),i(15," X\xE1c nh\u1EADn "),r()()()()()}if(n&2){let e=d();a(10),c("formGroup",e.passwordForm),a(2),x("error",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),a(),c("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),a(),c("disabled",e.passwordForm.invalid)}}function ae(n,t){n&1&&(o(0,"p",76),i(1," \u2705 Ph\xF2ng n\xE0y s\u1EBD hi\u1EC3n th\u1ECB trong danh s\xE1ch ph\xF2ng c\xF4ng khai "),r())}function se(n,t){n&1&&(o(0,"p",76),i(1," \u{1F512} Ph\xF2ng n\xE0y s\u1EBD \u1EA9n kh\u1ECFi danh s\xE1ch ph\xF2ng c\xF4ng khai "),r())}function ce(n,t){if(n&1){let e=M();o(0,"div",59)(1,"div",60)(2,"div",61)(3,"h3",62),i(4,"C\xE0i \u0110\u1EB7t Ph\xF2ng"),r(),o(5,"button",63),v("click",function(){f(e);let l=d();return C(l.toggleRoomSettings())}),o(6,"span",64),i(7,"\u2715"),r()()(),o(8,"div",65)(9,"div",66)(10,"div",67)(11,"span",68),i(12,"\u{1F310}"),r(),o(13,"span",69),i(14,"Hi\u1EC3n th\u1ECB c\xF4ng khai"),r()(),o(15,"div",70)(16,"label",71)(17,"input",72),v("change",function(){f(e);let l=d();return C(l.toggleRoomVisibility())}),r(),u(18,"span",73),r()()(),o(19,"div",74),m(20,ae,2,0,"p",75)(21,se,2,0,"p",75),r()()()()}if(n&2){let e=d();a(17),c("checked",e.roomVisibilityToggle),a(3),c("ngIf",e.roomVisibilityToggle),a(),c("ngIf",!e.roomVisibilityToggle)}}function le(n,t){n&1&&(o(0,"span"),i(1,"T\xEAn l\xE0 b\u1EAFt bu\u1ED9c"),r())}function de(n,t){if(n&1&&(o(0,"div",57),m(1,le,2,0,"span",58),r()),n&2){let e=d(2);a(),c("ngIf",e.username==null||e.username.errors==null?null:e.username.errors.required)}}function ge(n,t){if(n&1){let e=M();o(0,"div",77)(1,"div",46)(2,"div",47)(3,"h2",48)(4,"span",49),i(5,"\u{1F44B}"),r(),i(6," Ch\xE0o m\u1EEBng b\u1EA1n! "),r(),o(7,"p",50),i(8,"Nh\u1EADp t\xEAn \u0111\u1EC3 b\u1EAFt \u0111\u1EA7u tr\xF2 chuy\u1EC7n"),r()(),o(9,"div",51)(10,"form",78),v("ngSubmit",function(){f(e);let l=d();return C(l.setUsername())}),o(11,"div",53),u(12,"input",79),m(13,de,2,1,"div",55),r(),o(14,"button",56),i(15," B\u1EAFt \u0111\u1EA7u chat "),r()()()()()}if(n&2){let e=d();a(10),c("formGroup",e.usernameForm),a(2),x("error",(e.username==null?null:e.username.invalid)&&(e.username==null?null:e.username.touched)),a(),c("ngIf",(e.username==null?null:e.username.invalid)&&(e.username==null?null:e.username.touched)),a(),c("disabled",e.usernameForm.invalid)}}function me(n,t){if(n&1&&(o(0,"div",80)(1,"span",81),i(2,"\u26A0\uFE0F"),r(),i(3),r()),n&2){let e=d();a(3),O(" ",e.errorMessage," ")}}function pe(n,t){n&1&&(o(0,"div",82),u(1,"div",83),o(2,"p"),i(3,"\u0110ang t\u1EA3i tin nh\u1EAFn..."),r()())}function ue(n,t){n&1&&(o(0,"div",87)(1,"div",88),i(2,"\u{1F4AC}"),r(),o(3,"h3"),i(4,"Ch\u01B0a c\xF3 tin nh\u1EAFn n\xE0o"),r(),o(5,"p"),i(6,"H\xE3y l\xE0 ng\u01B0\u1EDDi \u0111\u1EA7u ti\xEAn g\u1EEDi tin nh\u1EAFn!"),r()())}function ve(n,t){if(n&1&&(o(0,"div",91)(1,"div",92)(2,"div",93),i(3),r(),o(4,"div",94)(5,"span",95),i(6),F(7,"date"),r()()()()),n&2){let e=t.$implicit;a(3),P(e.content),a(3),P(R(7,2,e.created_at,"HH:mm"))}}function he(n,t){if(n&1&&(o(0,"div",89),m(1,ve,8,5,"div",90),r()),n&2){let e=d(2);a(),c("ngForOf",e.messages)("ngForTrackBy",e.trackByMessageId)}}function _e(n,t){if(n&1&&(o(0,"div",84),m(1,ue,7,0,"div",85)(2,he,2,2,"div",86),r()),n&2){let e=d();a(),c("ngIf",e.messages.length===0),a(),c("ngIf",e.messages.length>0)}}function fe(n,t){n&1&&(o(0,"span"),i(1,"Tin nh\u1EAFn l\xE0 b\u1EAFt bu\u1ED9c"),r())}function Ce(n,t){if(n&1&&(o(0,"div",57),m(1,fe,2,0,"span",58),r()),n&2){let e=d(2);a(),c("ngIf",e.content==null||e.content.errors==null?null:e.content.errors.required)}}function be(n,t){if(n&1){let e=M();o(0,"div",96)(1,"form",97),v("ngSubmit",function(){f(e);let l=d();return C(l.sendMessage())}),o(2,"div",98)(3,"div",99),u(4,"input",100),r(),o(5,"button",101)(6,"span",102),i(7,"\u{1F4E4}"),r()()(),m(8,Ce,2,1,"div",55),r()()}if(n&2){let e=d();a(),c("formGroup",e.messageForm),a(3),x("error",(e.content==null?null:e.content.invalid)&&(e.content==null?null:e.content.touched)),a(),c("disabled",e.messageForm.invalid),a(3),c("ngIf",(e.content==null?null:e.content.invalid)&&(e.content==null?null:e.content.touched))}}function Me(n,t){if(n&1&&(o(0,"div",103)(1,"span",81),i(2,"\u26A0\uFE0F"),r(),i(3),r()),n&2){let e=d();a(3),O(" ",e.errorMessage," ")}}function xe(n,t){if(n&1&&(o(0,"div",104)(1,"span",105),i(2,"\u2705"),r(),i(3),r()),n&2){let e=d();a(3),O(" ",e.successMessage," ")}}var Q=class n{constructor(t,e,s,l,p,w){this.route=t;this.router=e;this.fb=s;this.chatService=l;this.databaseService=p;this.seoService=w;this.messageForm=this.fb.group({content:["",[_.required,_.minLength(1)]]}),this.usernameForm=this.fb.group({username:["",[_.required,_.minLength(1)]]}),this.passwordForm=this.fb.group({password:["",[_.required,_.minLength(1)]]})}roomId=null;room=null;messages=[];messageForm;usernameForm;passwordForm;currentUsername="";isLoading=!1;errorMessage="";successMessage="";showPasswordModal=!1;isPasswordRequired=!1;showRoomSettings=!1;roomVisibilityToggle=!1;ngOnInit(){return g(this,null,function*(){if(this.roomId=this.route.snapshot.paramMap.get("id"),!this.roomId){this.router.navigate(["/"]);return}yield this.loadRoomDetails(),this.room&&this.seoService.setChatRoomSEO(this.room.name),this.room?.password?(this.isPasswordRequired=!0,this.showPasswordModal=!0):(yield this.loadMessages(),this.subscribeToMessages())})}ngOnDestroy(){this.roomId&&this.chatService.unsubscribeFromRoom(this.roomId)}loadRoomDetails(){return g(this,null,function*(){if(!this.roomId)return;let{data:t,error:e}=yield this.databaseService.getRoomById(this.roomId);e?(console.error("Error loading room:",e),this.errorMessage="Ph\xF2ng kh\xF4ng t\u1ED3n t\u1EA1i"):(this.room=t,this.roomVisibilityToggle=this.room?.is_public||!1)})}loadMessages(){return g(this,null,function*(){if(!this.roomId)return;this.isLoading=!0;let{data:t,error:e}=yield this.chatService.fetchMessages(this.roomId);e?(console.error("Error loading messages:",e),this.errorMessage="Kh\xF4ng th\u1EC3 t\u1EA3i tin nh\u1EAFn"):this.messages=t||[],this.isLoading=!1})}subscribeToMessages(){this.roomId&&this.chatService.listenToRoom(this.roomId,t=>{this.messages.push(t)})}verifyPassword(){return g(this,null,function*(){if(this.passwordForm.valid&&this.room){let{password:t}=this.passwordForm.value;t===this.room.password?(this.showPasswordModal=!1,this.isPasswordRequired=!1,yield this.loadMessages(),this.subscribeToMessages()):(this.errorMessage="M\u1EADt kh\u1EA9u kh\xF4ng \u0111\xFAng",this.passwordForm.reset())}})}setUsername(){this.usernameForm.valid&&(this.currentUsername=this.usernameForm.value.username)}sendMessage(){return g(this,null,function*(){if(this.messageForm.valid&&this.roomId&&this.currentUsername){let{content:t}=this.messageForm.value,{error:e}=yield this.chatService.sendMessage(this.roomId,`${this.currentUsername}: ${t}`,"anonymous");e?(console.error("Error sending message:",e),this.errorMessage="Kh\xF4ng th\u1EC3 g\u1EEDi tin nh\u1EAFn"):(this.messageForm.reset(),this.errorMessage="")}})}goBack(){this.router.navigate(["/"])}toggleRoomSettings(){this.showRoomSettings=!this.showRoomSettings}toggleRoomVisibility(){return g(this,null,function*(){if(!this.roomId)return;let t=!this.roomVisibilityToggle,{data:e,error:s}=yield this.databaseService.updateRoomVisibility(this.roomId,t);s?(console.error("Error updating room visibility:",s),this.errorMessage="Kh\xF4ng th\u1EC3 c\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i ph\xF2ng"):(this.roomVisibilityToggle=t,this.room&&(this.room.is_public=t),this.successMessage=t?"Ph\xF2ng \u0111\xE3 \u0111\u01B0\u1EE3c c\xF4ng khai":"Ph\xF2ng \u0111\xE3 \u0111\u01B0\u1EE3c \u1EA9n",setTimeout(()=>{this.successMessage=""},3e3))})}get content(){return this.messageForm.get("content")}get username(){return this.usernameForm.get("username")}get password(){return this.passwordForm.get("password")}trackByMessageId(t,e){return e.id}static \u0275fac=function(e){return new(e||n)(h(V),h(B),h(H),h(y),h(W),h(J))};static \u0275cmp=I({type:n,selectors:[["app-chat-room"]],decls:57,vars:10,consts:[[1,"chat-room-container"],[1,"chat-header"],[1,"header-left"],[1,"back-button",3,"click"],[1,"back-icon"],[1,"back-text"],[1,"header-center"],[1,"room-logo-container"],[1,"room-logo-icon"],["viewBox","0 0 32 32","width","24","height","24",1,"room-logo-svg"],["id","roomLogoGrad","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#8b5cf6","stop-opacity","1"],["offset","100%",2,"stop-color","#a78bfa","stop-opacity","1"],["fill","none","stroke","url(#roomLogoGrad)","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8 10c-1 0-2 1-2 2v8c0 1 1 2 2 2h1"],["d","M9 12h14c1 0 2 1 2 2v4c0 1-1 2-2 2h-8l-3 3v-3H9c-1 0-2-1-2-2v-4c0-1 1-2 2-2z"],["d","M23 10c1 0 2 1 2 2v8c0 1-1 2-2 2h-1"],["cx","14","cy","16","r","1","fill","url(#roomLogoGrad)"],["cx","18","cy","16","r","1","fill","url(#roomLogoGrad)"],[1,"room-title"],[1,"room-status"],[1,"status-dot","online"],[1,"status-text"],[1,"cleanup-notice"],[1,"cleanup-icon"],[1,"cleanup-text"],[1,"header-right"],[1,"settings-button",3,"click"],[1,"settings-icon"],[1,"online-indicator"],[1,"indicator-icon"],[1,"indicator-text"],[1,"countdown-section"],[1,"chat-content"],["class","password-modal",4,"ngIf"],["class","room-settings-panel",4,"ngIf"],["class","username-modal",4,"ngIf"],["class","error-banner",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","messages-container",4,"ngIf"],["class","message-input-container",4,"ngIf"],["class","error-toast",4,"ngIf"],["class","success-toast",4,"ngIf"],[1,"version-footer"],[1,"version-text"],[1,"password-modal"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-icon"],[1,"modal-description"],[1,"modal-body"],[1,"password-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","password","formControlName","password","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u...",1,"form-input"],["class","error-message",4,"ngIf"],["type","submit",1,"btn-primary","btn-lg","w-full",3,"disabled"],[1,"error-message"],[4,"ngIf"],[1,"room-settings-panel"],[1,"settings-content"],[1,"settings-header"],[1,"settings-title"],[1,"close-settings",3,"click"],[1,"close-icon"],[1,"settings-body"],[1,"setting-item"],[1,"setting-label"],[1,"setting-icon"],[1,"setting-text"],[1,"setting-control"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"toggle-slider"],[1,"setting-description"],["class","description-text",4,"ngIf"],[1,"description-text"],[1,"username-modal"],[1,"username-form",3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Nh\u1EADp t\xEAn c\u1EE7a b\u1EA1n...",1,"form-input"],[1,"error-banner"],[1,"error-icon"],[1,"loading-container"],[1,"loading-spinner"],[1,"messages-container"],["class","empty-messages",4,"ngIf"],["class","messages-list",4,"ngIf"],[1,"empty-messages"],[1,"empty-icon"],[1,"messages-list"],["class","message-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message-item"],[1,"message-content"],[1,"message-text"],[1,"message-meta"],[1,"message-time"],[1,"message-input-container"],[1,"message-form",3,"ngSubmit","formGroup"],[1,"input-group"],[1,"input-wrapper"],["type","text","formControlName","content","placeholder","Nh\u1EADp tin nh\u1EAFn...",1,"message-input"],["type","submit",1,"send-button",3,"disabled"],[1,"send-icon"],[1,"error-toast"],[1,"success-toast"],[1,"success-icon"]],template:function(e,s){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),v("click",function(){return s.goBack()}),o(4,"span",4),i(5,"\u2190"),r(),o(6,"span",5),i(7,"Quay l\u1EA1i"),r()()(),o(8,"div",6)(9,"div",7)(10,"div",8),S(),o(11,"svg",9)(12,"defs")(13,"linearGradient",10),u(14,"stop",11)(15,"stop",12),r()(),o(16,"g",13),u(17,"path",14)(18,"path",15)(19,"path",16),r(),u(20,"circle",17)(21,"circle",18),r()(),k(),o(22,"h1",19),i(23),r()(),o(24,"div",20),u(25,"span",21),o(26,"span",22),i(27,"\u0110ang ho\u1EA1t \u0111\u1ED9ng"),r(),o(28,"div",23)(29,"span",24),i(30,"\u{1F55B}"),r(),o(31,"span",25),i(32,"T\u1EF1 \u0111\u1ED9ng x\xF3a l\xFAc 00:00"),r()()()(),o(33,"div",26)(34,"button",27),v("click",function(){return s.toggleRoomSettings()}),o(35,"span",28),i(36,"\u2699\uFE0F"),r()(),o(37,"div",29)(38,"span",30),i(39,"\u{1F465}"),r(),o(40,"span",31),i(41,"Online"),r()()()(),o(42,"div",32),u(43,"app-countdown-timer"),r(),o(44,"div",33),m(45,ie,16,5,"div",34)(46,ce,22,3,"div",35)(47,ge,16,5,"div",36)(48,me,4,1,"div",37)(49,pe,4,0,"div",38)(50,_e,3,2,"div",39)(51,be,9,5,"div",40),r(),m(52,Me,4,1,"div",41)(53,xe,4,1,"div",42),o(54,"div",43)(55,"p",44),i(56,"Version 0.0.1"),r()()()),e&2&&(a(23),P((s.room==null?null:s.room.name)||"\u0110ang t\u1EA3i..."),a(22),c("ngIf",s.showPasswordModal),a(),c("ngIf",s.showRoomSettings),a(),c("ngIf",!s.currentUsername&&!s.isPasswordRequired),a(),c("ngIf",s.errorMessage),a(),c("ngIf",s.isLoading),a(),c("ngIf",!s.isLoading&&s.currentUsername&&!s.isPasswordRequired),a(),c("ngIf",s.currentUsername&&!s.isPasswordRequired),a(),c("ngIf",s.errorMessage),a(),c("ngIf",s.successMessage))},dependencies:[A,D,z,j,Y,L,N,q,G,U,$,K,T],styles:['.chat-room-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:100vh;margin:0 auto;background:var(--bg-primary);border:2px solid var(--border-neon);border-radius:var(--radius-lg);box-shadow:var(--neon-glow-sm);display:flex;flex-direction:column;overflow:hidden}.room-settings-panel[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--space-lg);animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.settings-content[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-neon);border-radius:var(--radius-lg);box-shadow:var(--neon-glow-lg);width:100%;max-width:400px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.settings-header[_ngcontent-%COMP%]{padding:var(--space-lg);border-bottom:1px solid var(--border-neon);display:flex;justify-content:space-between;align-items:center;background:var(--bg-secondary)}.settings-header[_ngcontent-%COMP%]   .settings-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;color:var(--text-primary);text-shadow:var(--neon-glow-sm);margin:0}.settings-header[_ngcontent-%COMP%]   .close-settings[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:var(--space-sm);border-radius:var(--radius-md);transition:all .2s ease}.settings-header[_ngcontent-%COMP%]   .close-settings[_ngcontent-%COMP%]:hover{background:rgba(var(--error),.1);color:var(--error)}.settings-header[_ngcontent-%COMP%]   .close-settings[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.settings-body[_ngcontent-%COMP%]{padding:var(--space-lg)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-lg)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]   .setting-text[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--text-primary);font-weight:500}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background-color:var(--neon-primary)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--bg-tertiary);border:1px solid var(--border-muted);transition:.3s;border-radius:24px}.settings-body[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:2px;bottom:2px;background-color:var(--text-primary);transition:.3s;border-radius:50%}.settings-body[_ngcontent-%COMP%]   .setting-description[_ngcontent-%COMP%]{margin-top:var(--space-md);padding:var(--space-md);background:var(--bg-tertiary);border-radius:var(--radius-md);border:1px solid var(--border-muted)}.settings-body[_ngcontent-%COMP%]   .setting-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--text-secondary);margin:0;line-height:1.4}.username-modal[_ngcontent-%COMP%], .password-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--space-lg)}.modal-content[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-neon);border-radius:var(--radius-lg);box-shadow:var(--neon-glow-lg);width:100%;max-width:400px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-header[_ngcontent-%COMP%]{padding:var(--space-lg);border-bottom:1px solid var(--border-neon);text-align:center;background:var(--bg-secondary)}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;color:var(--text-primary);margin-bottom:var(--space-sm);display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.modal-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--text-secondary);margin:0}.modal-body[_ngcontent-%COMP%]{padding:var(--space-lg)}.username-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.username-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-md);border:2px solid var(--border-neon);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary);font-family:var(--font-family);transition:all .3s ease;box-shadow:var(--neon-glow-sm)}.username-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .password-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-accent);box-shadow:var(--neon-glow-md);background:var(--bg-tertiary)}.username-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .password-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);font-style:italic}.username-form[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:var(--error);box-shadow:0 0 10px var(--error)}.error-banner[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--error);color:var(--error);padding:var(--space-md) var(--space-lg);display:flex;align-items:center;gap:var(--space-sm);font-weight:500;border-radius:var(--radius-md);margin:var(--space-md);animation:_ngcontent-%COMP%_fadeIn .3s ease-out;box-shadow:0 0 10px var(--error)}.error-banner[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.loading-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text-secondary)}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{border:3px solid var(--border-muted);border-top:3px solid var(--neon-primary);border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:var(--space-md)}.chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--space-md) var(--space-lg);background:var(--bg-secondary);border-bottom:1px solid var(--border-neon)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{justify-content:flex-start}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{justify-content:flex-end}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]{flex:2;text-align:center}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .room-logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);margin-bottom:var(--space-xs)}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .room-logo-container[_ngcontent-%COMP%]   .room-logo-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .room-logo-container[_ngcontent-%COMP%]   .room-logo-icon[_ngcontent-%COMP%]   .room-logo-svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_logoPulse 2s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(139,92,246,.3))}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .room-logo-container[_ngcontent-%COMP%]   .room-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:600;margin:0;color:var(--neon-primary);text-shadow:var(--neon-glow-sm)}.chat-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;gap:var(--space-xs);font-size:var(--font-size-sm);font-weight:500;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);transition:all .3s ease}.chat-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);color:var(--text-primary)}.chat-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.chat-header[_ngcontent-%COMP%]   .room-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);margin-bottom:var(--space-xs);text-shadow:var(--neon-glow-sm)}.chat-header[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-xs);font-size:var(--font-size-xs);color:var(--success);flex-direction:column}.chat-header[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background-color:var(--success);box-shadow:0 0 5px var(--success)}.chat-header[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]   .cleanup-notice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-xs);margin-top:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:#8b5cf61a;border:1px solid rgba(139,92,246,.3);border-radius:var(--radius-sm)}.chat-header[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]   .cleanup-notice[_ngcontent-%COMP%]   .cleanup-icon[_ngcontent-%COMP%]{font-size:var(--font-size-xs);animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.chat-header[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]   .cleanup-notice[_ngcontent-%COMP%]   .cleanup-text[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--text-tertiary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .settings-button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:var(--space-sm);border-radius:var(--radius-md);transition:all .2s ease;margin-right:var(--space-sm)}.chat-header[_ngcontent-%COMP%]   .settings-button[_ngcontent-%COMP%]:hover{background:rgba(var(--neon-primary),.1);color:var(--neon-primary)}.chat-header[_ngcontent-%COMP%]   .settings-button[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.chat-header[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-xs);font-size:var(--font-size-xs);color:var(--text-secondary)}.chat-header[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]   .indicator-icon[_ngcontent-%COMP%]{font-size:var(--font-size-sm)}.countdown-section[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);background:var(--bg-secondary);border-bottom:1px solid var(--border-neon)}.chat-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:var(--bg-tertiary)}.messages-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:var(--space-md);overflow-y:auto;scroll-behavior:smooth}.empty-messages[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:var(--text-secondary)}.empty-messages[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:var(--font-size-4xl);margin-bottom:var(--space-md);opacity:.7}.empty-messages[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-lg);margin-bottom:var(--space-sm);color:var(--text-primary)}.empty-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-sm)}.messages-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.message-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{max-width:80%;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg);background:var(--bg-card);border:1px solid var(--border-neon);color:var(--text-primary);box-shadow:var(--neon-glow-sm)}.message-item[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:var(--font-size-sm);word-wrap:break-word;margin-bottom:var(--space-xs)}.message-item[_ngcontent-%COMP%]   .message-meta[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--text-tertiary);text-align:right}.message-input-container[_ngcontent-%COMP%]{padding:var(--space-md);background:var(--bg-secondary);border-top:1px solid var(--border-neon)}.message-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.message-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);align-items:center}.message-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{flex:1;position:relative}.message-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-md);border:2px solid var(--border-neon);border-radius:var(--radius-md);background:var(--bg-card);color:var(--text-primary);font-family:var(--font-family);transition:all .3s ease;box-shadow:var(--neon-glow-sm)}.message-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-accent);box-shadow:var(--neon-glow-md);background:var(--bg-tertiary)}.message-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);font-style:italic}.message-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input.error[_ngcontent-%COMP%]{border-color:var(--error);box-shadow:0 0 10px var(--error)}.message-form[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{background:var(--neon-primary);color:var(--bg-primary);border:2px solid var(--neon-primary);padding:var(--space-md);border-radius:var(--radius-md);font-size:var(--font-size-lg);width:50px;height:50px;flex-shrink:0;transition:all .3s ease}.message-form[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--neon-secondary);border-color:var(--neon-secondary);transform:translateY(-1px);box-shadow:var(--neon-glow-md)}.message-form[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]   .send-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.error-toast[_ngcontent-%COMP%], .success-toast[_ngcontent-%COMP%]{position:fixed;bottom:var(--space-lg);left:50%;transform:translate(-50%);background:var(--bg-card);border:2px solid;border-radius:var(--radius-md);padding:var(--space-md) var(--space-lg);display:flex;align-items:center;gap:var(--space-sm);font-size:var(--font-size-base);box-shadow:var(--shadow-lg);z-index:100;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.error-toast[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-toast[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%], .success-toast[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .success-toast[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}.error-toast[_ngcontent-%COMP%]{border-color:var(--error);color:var(--error);box-shadow:0 0 15px #ef444480}.success-toast[_ngcontent-%COMP%]{border-color:var(--success);color:var(--success);box-shadow:0 0 15px #10b98180}.version-footer[_ngcontent-%COMP%]{text-align:center;padding:var(--space-md) var(--space-lg);background:var(--bg-secondary);border-top:1px solid var(--border-neon)}.version-footer[_ngcontent-%COMP%]   .version-text[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--text-tertiary);margin:0;font-style:italic;opacity:.7}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.chat-room-container[_ngcontent-%COMP%]{margin:0;height:100vh;border-radius:0;border-left:none;border-right:none;border-top:none;box-shadow:none}.chat-header[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md)}.chat-header[_ngcontent-%COMP%]   .room-title[_ngcontent-%COMP%]{font-size:var(--font-size-base)}.chat-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{padding:var(--space-xs) var(--space-sm);font-size:var(--font-size-xs)}.message-input-container[_ngcontent-%COMP%]{padding:var(--space-sm)}.modal-content[_ngcontent-%COMP%]{margin:var(--space-md)}}@media (max-width: 480px){.chat-room-container[_ngcontent-%COMP%]{border-left:none;border-right:none;border-top:none}.chat-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]{flex:1}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{flex:0}.message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{max-width:90%}}@keyframes _ngcontent-%COMP%_logoPulse{0%,to{transform:scale(1);filter:drop-shadow(0 0 8px rgba(139,92,246,.3))}50%{transform:scale(1.05);filter:drop-shadow(0 0 16px rgba(139,92,246,.5))}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}']})};export{Q as ChatRoomComponent};
